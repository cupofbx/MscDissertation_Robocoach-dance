<!-- <!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>aidance</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="main.js"></script>
  </body>
</html> -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Dance Scorer - MediaPipe</title>
    <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/style.css">
</head>
<body>
  <h1>Pose detection using MediaPipe</h1>

  <section id="demos" class="invisible">
    <div class="main-container">
  <div class="stream-box">
    <h3>1. 参考标准视频 (Reference)</h3>
    <input type="file" id="refUpload" accept="video/*">
    <div class="canvas-container">
      <video id="referenceVideo" playsinline></video>
      <canvas class="output_canvas" id="ref_canvas"></canvas>
    </div>
  </div>

  <div class="stream-box">
    <h3>2.你的实时动作 (Live Stream)</h3>
  
    <button id="webcamButton" class="mdc-button mdc-button--raised">
      <span class="mdc-button__label">开启摄像头</span>
    </button>

    <div class="canvas-container">
      <video id="webcam" autoplay playsinline></video>
    
      <canvas class="output_canvas" id="output_canvas"></canvas>

      <div id="info-display" style="position: absolute; top: 10%; left: 50%; transform: translateX(-50%); z-index: 100; color: white; font-size: 24px; font-weight: bold; background: rgba(0,0,0,0.5); padding: 5px 15px; border-radius: 8px; pointer-events: none; white-space: nowrap;">
        等待识别...
      </div>
      
      <div id="countdown-overlay" style="position:absolute; top:50%; left:50%; font-size:80px; font-weight:bold; color:yellow; transform:translate(-50%, -50%); pointer-events:none; z-index: 10;"></div>

      <div id="grade-container">
        <span id="grade-text"></span>
      </div>
    </div>
  </div>
</div>
  </section>

  <script type="module" src="/main.js"></script>
  <div id="result-modal" class="invisible" style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 320px; background: #1e1e1e; border: 2px solid #00e5ff; border-radius: 15px; z-index: 2000; padding: 20px; box-shadow: 0 0 50px rgba(0,0,0,0.8); text-align: center;">
    <span id="close-modal" style="position: absolute; top: 10px; right: 15px; color: #888; cursor: pointer; font-size: 24px;">&times;</span>
    <h2 style="color: #00e5ff; margin-top: 10px;">训练报告</h2>
    <div id="final-score-val" style="font-size: 60px; color: gold; font-weight: 900; margin: 10px 0;">85</div>
    <div id="stats-detail-val" style="color: #ccc; font-size: 14px; line-height: 1.8; margin-bottom: 15px;"></div>
    <div style="font-size: 12px; color: #666;">点击右上角关闭以重新开始</div>
</div>
</body>

</html>